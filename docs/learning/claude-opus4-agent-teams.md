# Claude Opus 4.6 & Agent Teams 정리

> 2026년 2월 Anthropic 발표 중 핵심 3가지를 우리 프로젝트 맥락에서 이해하기 쉽게 정리합니다.

---

## 1. Opus 4.6 — 모델 자체가 달라졌다

### 뭐가 바뀌었나

| 항목 | 이전 | Opus 4.6 |
|------|------|----------|
| 컨텍스트 윈도우 | ~200K 토큰 | **1M 토큰** (베타) |
| 사고 방식 | 항상 같은 깊이로 처리 | **Adaptive Thinking** — 스스로 깊이 조절 |
| 노력 조절 | 없음 | `low / medium / high / max` 4단계 |

### Adaptive Thinking이란

모델이 질문을 받으면 먼저 판단합니다.

```
"오늘 날씨 어때?" → 바로 답해도 되는 문제 (low)
"이 코드의 경쟁 조건 버그를 찾아줘" → 깊이 생각해야 하는 문제 (high)
```

사람도 쉬운 질문에 30분씩 고민하지 않고, 어려운 문제는 빠르게 넘기지 않죠.
그 판단을 모델이 스스로 합니다. Effort Controls로 직접 override도 가능합니다.

### 왜 중요한가

컨텍스트 1M 토큰은 **한 세션에서 긴 대화를 이어가도 앞 내용을 잊지 않는다**는 뜻입니다.
지금 우리가 하는 것처럼 멀티턴으로 계속 작업하는 환경에 바로 체감이 됩니다.

---

## 2. Claude Code Agent Teams — 혼자가 아니라 팀으로

### 기존 방식 vs 새 방식

```
기존 Subagent 방식:
  나 → Claude A에게 일 시킴 → 결과만 받음
  (Claude A가 뭘 하는지 다른 Claude는 모름)

Agent Teams 방식:
  나 → 팀장 Claude 지정
       팀장이 팀원 Claude들에게 역할 배분
       팀원끼리 서로 메시지를 주고받음
       공유 태스크 리스트를 보면서 자율적으로 작업 claim
```

### 핵심 차이점

| 구분 | Subagent | Agent Teams |
|------|---------|-------------|
| 소통 | 나 ↔ 에이전트 (1:1) | 에이전트 ↔ 에이전트 (N:N) |
| 작업 분배 | 내가 지시 | 팀원이 자율 claim |
| 리뷰 | 한 관점 | 여러 관점 동시 |
| 컨텍스트 | 공유 | 각자 독립 |

### 활성화 방법

`settings.json`에 한 줄만 추가하면 됩니다.

```json
{
  "agentTeams": true
}
```

### 현재 제약사항 (실험 기능)

- 세션당 하나의 팀만 운영 가능
- 같은 파일을 두 팀원이 동시에 수정하면 충돌 (순서 조율 필요)

---

## 3. C 컴파일러 실험 — Agent Teams의 실력 증명

### 실험 개요

Anthropic이 Agent Teams를 실제로 얼마나 쓸 수 있는지 극단적으로 테스트했습니다.

```
투입: Claude Opus 4.6 인스턴스 16개
목표: Rust로 C 컴파일러 만들기 (10만 줄 규모)
기간: 2주
세션: 2,000회
비용: $20,000
사람 개입: 없음
```

### 결과

- Linux 커널, QEMU, FFmpeg, SQLite, PostgreSQL, Redis 컴파일 성공
- GCC 테스트 스위트 **99% 통과**
- Doom 실행 가능

### 충돌 방지 인프라 구조

에이전트가 여럿이 작업하면 같은 파일을 건드리는 충돌이 발생합니다.
실험에서 해결한 방법:

```
Docker    → 각 에이전트 작업 공간 격리
Git       → 변경사항 동기화
Task Lock → 중복 작업 방지 (A가 작업 중인 항목을 B가 못 가져감)
Merge Conflict → 에이전트가 스스로 해결
```

---

## 4. 우리 프로젝트에서 어떻게 쓸 수 있나

### 즉시 활용 가능

**시나리오: 브리핑 파이프라인 코드 리뷰**

지금 방식:
```
나 → Claude 1명에게 "briefing_generator.py 리뷰해줘" → 한 관점의 피드백
```

Agent Teams 방식:
```
나 → 팀장 Claude
     ├── 팀원 A: 보안 관점 리뷰 (API 키 노출, 입력값 검증)
     ├── 팀원 B: 성능 관점 리뷰 (순차 수집 → 병렬화 기회)
     └── 팀원 C: 데이터 품질 관점 (AI 분석 오류 가능성)
```

plan의 "병렬 처리" 항목과 직접 연결됩니다.

**시나리오: 새 기능 설계**

```
나 → 팀장 Claude
     ├── 팀원 A: Structured Outputs 모델 설계
     ├── 팀원 B: briefing_generator.py 수정 계획
     └── 팀원 C: GitHub Actions 워크플로우 검토
```

### 중기 고려사항

**컨텍스트 1M 토큰 활용**

현재 프로젝트의 전체 Python 코드(~1,925줄)와 plan/ docs/ 파일을 모두 한 세션에 올려도
여유가 생깁니다. 브리핑 파일 히스토리까지 컨텍스트에 넣고
"지난 10일 브리핑과 비교해서 AI 분석 품질이 개선됐나?" 같은 질문이 가능해집니다.

**Adaptive Thinking 활용**

```python
# 단순 작업 → effort: low (빠르게)
"WATCHLIST_STOCKS에 종목 하나 추가해줘"

# 복잡한 작업 → effort: high (깊게)
"collect_all_data()를 병렬화하되 기존 테스트가 모두 통과하도록 수정해줘"
```

---

## 5. 핵심 요약

| 발표 | 한 줄 요약 |
|------|----------|
| Opus 4.6 | 똑똑해졌고, 컨텍스트가 5배 늘었고, 스스로 사고 깊이를 조절한다 |
| Agent Teams | 여러 Claude가 서로 소통하며 팀으로 작업한다 (settings.json 한 줄) |
| C 컴파일러 실험 | 16개 에이전트가 2주 동안 사람 개입 없이 10만 줄 컴파일러를 완성했다 |

지금까지 "나 혼자 + Claude 1명" 구조였다면,
앞으로는 "나 (관제탑) + Claude 팀" 구조로 일할 수 있습니다.

---

*마지막 업데이트: 2026년 2월 11일*
